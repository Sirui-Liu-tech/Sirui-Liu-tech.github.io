<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sirui Liu's Homepage</title>
	  
  </head>
  <body>
    <h1>人员查询</h1>

    
    
    姓名：<input type="text" id="name">
    简拼：<input type="text" id="nameabbr">
	部门：<input type="text" id="depart">
	种类：<input type="text" id="kind">  
	  
	<button>查询</button>
	  
	  
   <script>
	  const button = document.querySelector('button');
	  let name;
	  let nameabbr;
	  let depart;
	  let kind;
	  button.onclick = function() {
	name = document.getElementById("name").value;
	  nameabbr = document.getElementById("nameabbr").value;
	  depart = document.getElementById("depart").value;
	  kind = document.getElementById("kind").value;
      fetch('https://portal.pku.edu.cn/portal2017/publicquery/personquery/query.do?deptId='+ depart +'&name='+ name +'&nameAbbr='+ nameabbr +'&personType='+ kind, {mode: 'cors'},{
  credentials: 'include'
})
  .then(response => response.json())
  .then(data => console.log(data));

		  
  alert('Hello ' +name+ nameabbr+ ', nice to see you!');
     }
	  
   </script> 
    
    
    
    
  </body>
</html>
